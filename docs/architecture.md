<!--
  This document was initially generated automatically (Azure OpenAI and/or static analysis).
  Please review and adapt it as needed.
-->

# Hackathon2025 – Technical and Architectural Documentation

This document was generated automatically based on the current source code and HTML templates. It provides a high-level overview of the architecture, components, endpoints and UI structure of the `hackathon2025` Spring Boot demo application.

## Introduction

The `hackathon2025` project is a small Spring Boot web application used to demonstrate AI-assisted development workflows. It combines:

- A Java 17 / Spring Boot backend

- REST endpoints implemented in annotated controllers (e.g. `/api/hello`)

- Simple HTML/Thymeleaf-based views (e.g. `index.html`, additional pages)

- Automatically generated unit tests (JUnit) and UI/API tests (Playwright)

- CI pipelines that call Azure OpenAI to generate tests and documentation inside GitHub Actions


## Architecture Overview

The application follows a typical Spring Boot architecture:

- **Bootstrap / Application class** – starts the Spring context and embedded Tomcat.
- **Controllers** – handle HTTP requests and either render views or return JSON responses.
- **Templates** – HTML files under `src/main/resources/templates` that define the UI.
- **REST APIs** – JSON endpoints under `/api/...` for programmatic access.


## Components and Responsibilities

### Controllers

The following controllers were detected based on `@Controller` / `@RestController` annotations:

- `Hello2RestController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/Hello2RestController.java`  
  - Type: REST controller
  - Endpoints:
    - `GET` `/api/hello2alt`
- `HelloRestController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/HelloRestController.java`  
  - Type: REST controller
  - Endpoints:
    - `GET` `/api/hello`
    - `GET` `/api/hello2`
    - `GET` `/api/hello3`
- `GoodbyRestController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/GoodbyRestController.java`  
  - Type: REST controller
  - Endpoints:
    - `GET` `/api/goodby`
    - `GET` `/api/goodnight`
- `NatureImageRestController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/NatureImageRestController.java`  
  - Type: REST controller
  - Endpoints:
    - `GET` `/api/nature-image`
- `WebController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/WebController.java`  
  - Type: MVC controller
  - Endpoints:
    - `GET` `/`
- `FibonacciRestController`  
  - Package: `com.example.hackathon2025`  
  - Source: `hackathon2025/FibonacciRestController.java`  
  - Type: REST controller
  - Endpoints:
    - `GET` `/api/fibonacci`

### HTML Templates

The following HTML templates were found under `src/main/resources/templates`:

- `followup.html` (path: `templates/followup.html`, main heading: "Followup REST API Demo")
- `index.html` (path: `templates/index.html`, main heading: "Hackathon 2025 Demo")

## UI and REST Interaction

The main entry page (`index.html`) is typically served at `GET /` by an MVC controller. It renders a heading, some descriptive text, and UI elements such as buttons.

Based on the existing code and templates, the core interaction pattern is:

1. The browser requests a view (e.g. `/`).
2. A Spring MVC controller returns a view name (e.g. `index`), which is rendered by a Thymeleaf template.
3. JavaScript on the page can call REST endpoints (e.g. `/api/hello`) via `fetch`.
4. The JSON response from the REST controller is displayed in the UI (e.g. in a `<p id="apiResult">`).


## Testing Strategy

The project is designed to showcase AI-assisted test generation. The typical setup is:

- **JUnit 5 unit tests** under `src/test/java` for controllers and other classes.
- Tests are generated or updated by a script `scripts/generate_tests_with_azure_openai.py`,
  which calls Azure OpenAI to propose test cases.
- **Playwright UI/API tests** in `tests/ui-hackathon2025.spec.ts`, generated by
  `scripts/generate_ui_tests_with_azure_openai.py`.
- Playwright tests cover:
  - Rendering of the index page.
  - Clicking the "Test REST" button and verifying the `/api/hello` JSON response.
  - Direct HTTP calls to `/api/...` endpoints via Playwright's `request` fixture.


## CI/CD and AI-Assisted Workflows

GitHub Actions workflows orchestrate the build, test and documentation pipelines. Typical workflows include:

- **Java CI with Azure OpenAI test generation** – runs on pull requests to `main`:
  - checks out the PR branch,
  - runs `generate_tests_with_azure_openai.py` to create/update unit tests,
  - executes `mvn clean verify`,
  - and, if all tests pass, commits the updated tests back into the PR branch.

- **Playwright UI/API tests with Azure OpenAI** – builds and starts the Spring Boot app, then:
  - runs `generate_ui_tests_with_azure_openai.py` to update the Playwright tests,
  - executes `npx playwright test`,
  - and commits updated tests when the run is green.

- **Architecture docs generation** – runs `generate_docs_with_azure_openai.py` to generate
  or update this `docs/architecture.md` file and commit it into the PR branch.

All AI-generated artifacts (tests, docs) are treated as proposals in a pull request and are only merged into `main` after human review.


## Limitations and Next Steps

The current architecture is intentionally simple and optimized for demonstration purposes. Some typical limitations and potential improvements are:

- No persistence layer (database) – all responses are in-memory / hard-coded.

- Limited error handling and validation – real-world applications would need more robust handling of invalid requests, exceptions and security concerns.

- Controllers mix simple demo logic and HTTP handling; larger systems often introduce service layers and DTOs for better separation of concerns.

- AI-generated tests and documentation provide a good starting point but should always be reviewed, refined and extended by humans.

- Future work could include: adding persistence, more complex domain logic, integration tests, API documentation (e.g. via OpenAPI/Swagger) and more detailed architecture diagrams.

## Related Work Items

- **Jira Ticket (from branch):** [hd-15](https://gtd.endress.com/hd-15)
- **Pull Request:**
  - Title: new Hello RestController
  - Description:

    generated RestController

